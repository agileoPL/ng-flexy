{
  "schemaVersion": 2,
  "schema": [
    {
      "component": "number",
      "name": "X.a",
      "properties": {
        "label": "A"
      }
    },
    {
      "component": "number",
      "name": "X.b",
      "properties": {
        "label": "B"
      }
    },
    {
      "component": "number",
      "name": "X.c",
      "calc": "$sum([X.a,X.b])",
      "properties": {
        "label": "C"
      }
    },
    {
      "component": "fieldset",
      "name": "_sumIf",
      "calc": "$sum([X.a,X.b]) > 0",
      "properties": {
        "legend": "Group 2"
      },
      "children": [
        {
          "component": "text",
          "name": "_sum",
          "calc": "$sum([X.a,X.b]) * X.c",
          "properties": {
            "label": "Sum(a + b)",
            "readonly": true
          }
        }
      ]
    },
    {
      "component": "text",
      "name": "calcHeroes",
      "calculated": "users[0].surname & ' ' & users[1].surname",
      "properties": {
        "label": "Calculated Heroes",
        "readonly": true
      }
    },
    {
      "component": "fieldset",
      "properties": {
        "legend": "Group 2"
      },
      "children": [
        {
          "component": "group",
          "properties": {
            "legend": "Heroes"
          },
          "name": "groups",
          "type": "group",
          "validators": {},
          "items": {
            "component": "fieldset",
            "properties": {},
            "children": [
              {
                "component": "array",
                "properties": {
                  "legend": "Heroes group {g1}"
                },
                "name": ".",
                "type": "array",
                "validators": {
                  "maxItems": 6,
                  "minItems": 1
                },
                "items": {
                  "component": "text",
                  "properties": {
                    "label": "Hero",
                    "placeholder": "Hero name",
                    "description": "Add hero name...",
                    "readonly": true
                  }
                }
              }
            ]
          },
          "indexDef": "{g1}"
        }
      ]
    },
    {
      "component": "fieldset",
      "properties": {
        "legend": "Group 1"
      },
      "children": [
        {
          "component": "array",
          "properties": {
            "legend": "Users",
            "removeAny": true
          },
          "name": "users",
          "type": "array",
          "validators": {},
          "items": {
            "component": "fieldset",
            "properties": {
              "legend": "User {%1}"
            },
            "children": [
              {
                "component": "text",
                "properties": {
                  "label": "First name"
                },
                "name": "name",
                "validators": {
                  "required": true
                }
              },
              {
                "component": "text",
                "properties": {
                  "label": "Last name"
                },
                "name": "surname",
                "validators": {
                  "required": true
                }
              }
            ]
          },
          "indexDef": "{%1}"
        }
      ]
    }
  ]
}
